<!DOCTYPE html>
<html lang="en">
<head>
    <header>
        <button id="back-button" style="background: none; border: none; cursor: pointer; font-size: 1rem; margin-right: 10px;">
            &#8592; Back
        </button>
    </header>
    <script>
        document.getElementById("back-button").addEventListener("click", () => {
            window.history.back(); // Navigate to the previous page
        });
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volunteer Hours Tracker</title>
    <link rel="stylesheet" href="css/hours.css">
</head>
<body>
    <h1>Volunteer Hours Tracker</h1>
    
    <div class="form-group">
        <label for="description">Description:</label>
        <input type="text" id="description" required>
    </div>
    
    <div class="form-group">
        <label for="date">Date:</label>
        <input type="date" id="date" required>
    </div>
    
    <div class="form-group">
        <label for="hours">Hours:</label>
        <input type="number" id="hours" min="0" step="0.5" required>
    </div>
    
    <button onclick="addHours()">Add Hours</button>
    
    <table id="hoursTable">
        <thead>
            <tr>
                <th>Description</th>
                <th>Date</th>
                <th>Hours</th>
            </tr>
        </thead>
        <tbody id="hoursTableBody"></tbody>
    </table>

    <script>
        class VolunteerHour {
            constructor(description, date, hours) {
                this.description = description;
                this.date = date;
                this.hours = hours;
            }
        }

        class VolunteerHoursTracker {
            constructor() {
                const savedHours = localStorage.getItem('volunteerHours');
                this.volunteerHours = savedHours ? JSON.parse(savedHours) : [];
                this.displayHours();
            }

            saveToStorage() {
                localStorage.setItem('volunteerHours', JSON.stringify(this.volunteerHours));
            }

            addVolunteerHour(description, date, hours) {
                if (!description || !date || !hours) {
                    alert("All fields are required.");
                    return;
                }
                if (isNaN(hours) || hours <= 0) {
                    alert("Hours must be a positive number.");
                    return;
                }
                const volunteerHour = new VolunteerHour(description, date, hours);
                this.volunteerHours.push(volunteerHour);
                this.saveToStorage();
                this.displayHours();
            }

            displayHours() {
                const tbody = document.getElementById('hoursTableBody');
                tbody.innerHTML = '';
                this.volunteerHours.forEach(hour => {
                    const row = tbody.insertRow();
                    row.insertCell(0).textContent = hour.description;
                    row.insertCell(1).textContent = hour.date;
                    row.insertCell(2).textContent = hour.hours;
                });
            }
        }

        const tracker = new VolunteerHoursTracker();

        function addHours() {
            const description = document.getElementById('description').value;
            const date = document.getElementById('date').value;
            const hours = parseFloat(document.getElementById('hours').value);
            
            tracker.addVolunteerHour(description, date, hours);
            
            // Clear form
            document.getElementById('description').value = '';
            document.getElementById('date').value = '';
            document.getElementById('hours').value = '';
        }
    </script>
</body>
</html>